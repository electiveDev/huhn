{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2>Eintrag bearbeiten</h2>
        <div class="alert alert-info">
            Typ:
            {% if record.type == 'egg' %} Eier
            {% elif record.type == 'food' %} Futter
            {% elif record.type == 'chicken' %} Hühner
            {% endif %}
        </div>

        <form action="{{ url_for('update', id=record.id) }}" method="POST">
            <div class="mb-3">
                <label for="date" class="form-label">Datum</label>
                <!-- Use raw_date for input value -->
                <input type="date" class="form-control" id="date" name="date" value="{{ record.date }}" required>
            </div>

            {% if record.type == 'egg' %}
            <div class="mb-3">
                <label class="form-label">Anzahl Eier</label>
                <input type="number" class="form-control" name="amount" value="{{ record.amount }}" required min="0">
            </div>
            {% endif %}

            {% if record.type == 'food' %}
            <div class="mb-3">
                <label class="form-label">Kosten (€)</label>
                <input type="number" step="0.01" class="form-control" name="cost" value="{{ record.cost }}" required min="0">
            </div>
            <div class="mb-3">
                <label class="form-label">Notiz</label>
                <input type="text" class="form-control" name="note" value="{{ record.note }}">
            </div>
            {% endif %}

            {% if record.type == 'chicken' %}
            <div class="mb-3">
                <label class="form-label">Änderung Anzahl (+/-)</label>
                <input type="number" class="form-control" name="amount" value="{{ record.amount }}" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Kosten (€)</label>
                <input type="number" step="0.01" class="form-control" name="cost" value="{{ record.cost }}" min="0">
            </div>
            <div class="mb-3">
                <label class="form-label">Grund / Notiz</label>
                <input type="text" class="form-control" name="note" value="{{ record.note }}">
            </div>
            {% endif %}

            <button type="submit" class="btn btn-primary">Aktualisieren</button>
            <a href="{{ url_for('records') }}" class="btn btn-secondary">Abbrechen</a>
        </form>
    </div>
</div>
{% endblock %}
